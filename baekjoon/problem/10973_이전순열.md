# [10973] 이전순열

## **📝문제**

1부터 N까지의 수로 이루어진 순열이 있다. 이때, 사전순으로 바로 이전에 오는 순열을 구하는 프로그램을 작성하시오.

사전 순으로 가장 앞서는 순열은 오름차순으로 이루어진 순열이고, 가장 마지막에 오는 순열은 내림차순으로 이루어진 순열이다.

N = 3인 경우에 사전순으로 순열을 나열하면 다음과 같다.

- 1, 2, 3
- 1, 3, 2
- 2, 1, 3
- 2, 3, 1
- 3, 1, 2
- 3, 2, 1

### **입력**

첫째 줄에 N(1 ≤ N ≤ 10,000)이 주어진다. 둘째 줄에 순열이 주어진다.

### **출력**

첫째 줄에 입력으로 주어진 순열의 이전에 오는 순열을 출력한다. 만약, 사전순으로 가장 처음에 오는 순열인 경우에는 -1을 출력한다.

### **예제입출력**

**예제 입력1**

```
4
1 2 3 4
```

**예제 출력1**

```
-1
```

**예제 입력2**

```
5
5 4 3 2 1
```

**예제 출력2**

```
5 4 3 1 2
```

### **출처**

https://www.acmicpc.net/problem/10973

## **🧐CODE REVIEW**

### **🧾나의 풀이**

```python
N=int(input())
D=[*map(int,input().split())]
def next_permutation(a,n):
    i=n-1
    while i>0 and a[i-1]<=a[i]:i-=1
    if i<=0:return [-1]
    j=n-1
    while a[j]>=a[i-1]:j-=1
    x=a[i-1];a[i-1]=a[j];a[j]=x
    j=n-1
    while i<j:
        x=a[i];a[i]=a[j];a[j]=x
        i+=1;j-=1
    return a
print(' '.join(map(str,next_permutation(D,N))))
```
*※이 풀이는 10972번 문제 다음순열의 hello70825님 답안을 이용해서 풀이했습니다.*

결과	| 메모리(KB) |	시간(ms) |	언어 |	코드 길이(B)
:----:|:-----:|:-----:|:-----:|:--------:
맞았습니다!! |	30864 |	76 |	Python 3 |	347

#### **📝해설**


**알고리즘**

1234
124**3**
13**24**
134**2**
14**23**
143**2**
2**134**
214**3**
23**14**
234**1**
24**13**
243**1**
...

이전 수열로 바뀔 때 변경되는 규칙을 살펴보자. 이전 수열이기 때문에 순서를 거꾸로 봐야한다.

먼저 **뒤에서부터 내림차순**인 숫자까지 확인하고 뒤에서부터 내림차순 숫자 중에 **가장 큰 숫자**를 확인한 숫자 바로 앞자리로 자리 변경한 뒤 자리 바꾸고 남은 뒷 숫자는 **오름차순**으로 나열한다.

정리하면

```
1. 뒤에서부터 내림차순이 끝나는 부분 확인
  1.1. 만약 전부 뒤에서부터 내림차순으로 되어 있다면 -1 출력
2. 확인한 부분의 바로 앞 숫자와 변경해야하는 숫자(앞 숫자보다 작은 숫자 중 가장 큰 수)와 변경
3. 변경한 뒤 뒤에 오는 숫자 오름차순
``` 

## 📚참고 사이트

> **[10972_다음순열](./10972_다음순열.md)**<br/>
다음 순열의 풀이에서 부호만 바꿔주면 된다.
