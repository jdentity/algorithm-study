# [15988] 1, 2, 3 더하기 3

<br/>

## **📝문제**

<br/>

정수 4를 1, 2, 3의 합으로 나타내는 방법은 총 7가지가 있다. 합을 나타낼 때는 수를 1개 이상 사용해야 한다.

```
1+1+1+1
1+1+2
1+2+1
2+1+1
2+2
1+3
3+1
```

정수 n이 주어졌을 때, n을 1, 2, 3의 합으로 나타내는 방법의 수를 구하는 프로그램을 작성하시오.

<br/>

### **입력**

<br/>

첫째 줄에 테스트 케이스의 개수 T가 주어진다. 각 테스트 케이스는 한 줄로 이루어져 있고, 정수 n이 주어진다. n은 양수이며 1,000,000보다 작거나 같다.

<br/>

### **출력**

<br/>

각 테스트 케이스마다, n을 1, 2, 3의 합으로 나타내는 방법의 수를 1,000,000,009로 나눈 나머지를 출력한다.

<br/>

### **예제입출력**

<br/>

<div style="column-count:2; ">
  <div>

**예제 입력1**

```
3
4
7
10
```

  </div>
  <div>

**예제 출력1**

```
7
44
274
```

  </div>
</div>

<br/>

### **출처**

<br/>

https://www.acmicpc.net/problem/15988

<br/>

## **🧐CODE REVIEW**
***

<br/>

### **🧾나의 풀이**

<br/>

```python
case = int(input())
nums = [int(input()) for _ in range(case)]
max_num = max(nums)
mod = 1000000009
dp = [0 for _ in range(max_num+1)]
dp[0] = 1

for i in range(1, max_num+1):
    dp[i] = (dp[i-1] + dp[i-2] + dp[i-3]) % mod

for num in nums:
    print(dp[num])
```

<br/>

결과	| 메모리(KB) |	시간(ms) |	언어 |	코드 길이(B)
:----:|:-----:|:-----:|:-----:|:--------:
맞았습니다!! |	69192	| 624 |	Python 3 |	261

<br/>

#### **📝해설**

<br/>

DP[N][1]을 마지막이 1인 수열, DP[N][2]을 마지막이 2인 수열, DP[N][3]을 마지막이 3인 수열 이렇게 생각해보자. 

그러면,
```
DP[N][1] = DP[N-1]
DP[N][2] = DP[N-2]
DP[N][3] = DP[N-3]
```
이 성립하게 된다.

추가 설명을 해보자면 `DP[N][1] = DP[N-1]`에서는 마지막에 1이 붙어야하니 1이 작은 수열들 DP[N-1]에 1만 붙이면 된다.

세 식을 모두 더해서 정리해보면 아래 식이 성립한다.

<br/>

**점화식**
```
DP[N] = DP[N-1] + DP[N-2] + DP[N-3]
```

<br/>

+ 1,2,3 더하기 버전 여러 문제가 있으니 찾아서 풀어보도록 하자.

<br/>

### **다른 풀이**

<br/>

```python
import sys
input = sys.stdin.readline
x = [int(input()) for i in range(int(input()))]
t = sorted(x)
while t and t[0] < 4:
    t.pop(0)
v = {1:1, 2:2, 3:4}
mod = 10**9+9
a, b, c = 1, 2, 4
q = 3
for u in t:
    p, q = q, u
    for i in range(p+1, q+1):
        a, b, c = b, c, (a + b + c) % mod
    if p < q:
        v[q] = c

for i in x:
    print(v[i])
```

<br/>

아이디 |	문제	| 문제 제목 |	결과	| 메모리(KB) |	시간(ms) |	언어 |	코드 길이(B) 
:-----:|:-----:|:---------:|:-----:|:-----:|:-----:|:----:|:--------:
wider93 |	15988 |	1, 2, 3 더하기 3 |	맞았습니다!! |	29284 |	348	| Python 3 |	352
  
<br/>

#### **📝해설**

<br/>

역시나 또 DP로 풀지 않으면 빠르다. 문제의 원리를 이용해서 풀었다.

```python
a, b, c = 1, 2, 4

...

    for i in range(p+1, q+1):
        a, b, c = b, c, (a + b + c) % mod
```

<br/>

각각 증가하는 규칙이 위와 같은 것 같다.

<br/>

### **🔖정리**

<br/>

1. 배운점
